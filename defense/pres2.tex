\documentclass[landscape]{foils}
\usepackage{graphicx}
\usepackage{amsmath}

\input defs.tex
\raggedright
\special{! TeXDict begin /landplus90{true}store end }
\newcommand{\nextpage}{\vfill\newpage}
\renewcommand{\oursection}[1]{
\foilhead[-1.0cm]{#1}
}
\newcommand{\myfig}[2]{
    \begin{figure}[!h]
    \centerline{\includegraphics[height=#2cm]{fig/#1.jpg}}
    \end{figure}
}

\newcommand{\smallfig}[1]{
    \begin{figure}[!h]
    \centerline{\includegraphics[height=6.5cm]{fig/#1.jpg}}
    \end{figure}
}
\newcommand{\medfig}[1]{
    \begin{figure}[!h]
    \centerline{\includegraphics[height=10cm]{fig/#1.jpg}}
    \end{figure}
}
\newcommand{\bigfig}[1]{
    \begin{figure}[!h]
    \centerline{\includegraphics[height=12cm]{fig/#1.jpg}}
    \end{figure}
}
\newcommand{\BI}{\begin{itemize}\item}
\newcommand{\I}{\item}
\newcommand{\EI}{\end{itemize}}

\title{Nanophotonic Computational Design}
\author{Jesse Lu}
\MyLogo{Jesse Lu PhD defense, Jelena Vuckovic group, Stanford University}
\date{February 25, 2013}

% \usepackage{pause}
\usepackage[display]{texpower}


\begin{document}
\setlength{\parskip}{0cm}
\maketitle

% \BIT \itemsep -1pt
% \item motivation
% \item theory
% \item results
% \EIT

\nextpage

\oursection{Introduction}
\smallfig{optical_networks}
\BI As information grows, optical networks needed
    \BI across continents
    \I  within a datacenter
    \I  between chips and on-chip \EI
\nextpage

\I  On-chip optical components are currently designed
    by tuning a small number of design parameters
\smallfig{integrated_circuit}
\pause
\I  What happens when we use the \emph{full} parameter space
    for nanophotonic design?
\nextpage

\I  The full parameter space is \emph{vast}
\smallfig{des_complexity}
\I  Include/exclude per pixel gives us $2^{(15^2)} = 2^{225}$ possibilities
    \BI A virtually uncountable number 
    \I  Can only be design by a computer \EI
\nextpage

\smallfig{takeaway}
\I  Our work: Software to design full 3D, multi-mode, and multi-functional
    linear nanophotonic devices---using the fully available parameter space \pause
\I  Many of these devices are
    \BI Completely novel (no previously known designs)
    \I  Extremely compact (footprints of a few vacuum wavelengths)
    \I  High efficiency ($>80\%$ transmission) \EI
\nextpage

\I  Developed by
    \BI applying (convex) optimization techniques (math)
    \I  to the area of nanophotonics (physics)
    \I  and implementing in software (programming) \EI
\pause
\I  Physics Advisory: 
    \begin{quote}CONTAINS INVOLVED MATHEMATICAL CONTENT\end{quote}
\pause
\I  Math Advisory: 
    \begin{quote}CONTAINS INVOLVED NANOPHOTONIC CONTENT\end{quote}
\nextpage

\oursection{Given a field, can we find its structure?}
\smallfig{my_definition}
\stepwise{
\step{\I  Equivalently, find $\epsilon$ (structure) given $E$ (field)
    \BE \nabla\times\mu_0^{-1}\nabla\times E - \omega^2 \epsilon E = 
        -i \omega J \EE}
\step{\I  If possible, we can design \emph{any} nanophotonic/optical component!}
}
\nextpage

\I Answer: Yes, given $E$ we \emph{can} solve for $\epsilon$ (trivial!)
    \stepwise{
    \begin{align*} 
    \nabla\times\mu_0^{-1}\nabla\times E - \omega^2 \epsilon E &= 
        -i \omega J \quad\quad\quad\quad\quad\quad\quad\quad\quad\quad\\
    \step{\omega^2 \epsilon E &= \nabla\times\mu_0^{-1}\nabla\times E + 
        i \omega J }\\
    \step{\omega^2 E \epsilon &= \nabla\times\mu_0^{-1}\nabla\times E + 
        i \omega J }\\
    \step{\epsilon &= (\nabla\times\mu_0^{-1}\nabla\times E + 
        i \omega J)/ \omega^2 E} 
    \end{align*}
    }
\I  Solving for $\epsilon$ actually way faster than simulation (solving for $E$)!
\nextpage

\I  Obvious and well-known from a mathematical perspective
    \BI Pre-requisite (200-level) class in optimization curriculum
    \I  Not yet taught (I think) in optics/photonics at Stanford \EI
    \stepwise{\step{
    \BE
    \underbrace{\nabla\times\mu_0^{-1}\nabla\times E - \omega^2 \epsilon E = 
                -i \omega J }_\text{physics}
    \quad\longrightarrow\quad
    \underbrace{A(z)x = b}_\text{linear algebra}
    \EE
    }
    \step{
    \begin{align*}
    E &\to x \\
    \epsilon &\to z \\
    \nabla\times\mu_0^{-1}\nabla\times - \omega^2 \epsilon &\to A(z) \\
    -i\omega J &\to b
    \end{align*}
    }
\step{\I  Key: If $A(z)$ is linear in $z$ then $A(z)x=b$ is as well!}
    }

\oursection{Direct design of nanophotonic devices}
\I  Let's try it already! 
    \BI Choose $x$ (field) 
    \I  Solve for $z$ (structure) by minimizing the \emph{physics residual},
        $A(z)x-b$\EI
    \pause
    \BE \minimize_z \|A(z)x - b\|^2 \EE
\pause
\I  Global minimum where $A(z)x - b = 0$ can be computed in one step
    \BE \epsilon = (\nabla\times\mu_0^{-1}\nabla\times E + i \omega J)
                    / \omega^2 E \EE
    where $\epsilon \to z$
\nextpage

\I  Choose canonical 1D cavity field for $x$
\I  Solve for $z$ (structure) and check design fidelity with simulation
\smallfig{1d_leastsquares}
\pause
\I  Result
    \BI Perfect performance
    \I  But unmanufacturable structure ($z$ not well-behaved) \EI
\nextpage

\oursection{Direct design with regularization}
\I  Direct design ``works'' but not practical
    \BE \minimize_z \|A(z)x - b\|^2 \EE
\I  So, let's add a \emph{regularization} term to $z$ and solve the following instead 
    \BE \minimize_z \|A(z)x - b\|^2 + \eta\|z-z_0\|^2 \EE
    \BI  $\|z-z_0\|^2$ term keeps $z$ close to $z_0$
    \I  $\eta$ controls the strength of the regularization \EI
\I  Solution can still be computed in one step
\nextpage

\bigfig{1d_regularized_12}
\I  Unfortunately, regularization on $z$ decreases performance 
\nextpage

\smallfig{1d_regularized_3}
    \BE \minimize_z \|A(z)x - b\|^2 + \eta\|z-z_0\|^2 \EE
\I  Decreased performance a result of non-zero physics residual at optimum
\nextpage

\I  How to overcome the apparent trade-off between manufacturability ($z$)
    and performance ($x$)?
\pause
\I  Realized that there do exist some $x$ (fields)
    which result from manufacturable $z$ (structures)
    \BI These can be produced via simulation
    \I  However, it's not useful to ask the user to choose such $x$ \EI
\pause
\I  Therefore, a \emph{useful} tool would optimize for \emph{both} $x$ and $z$
\nextpage

\oursection{Iterative design of nanophotonic devices}
\I  New algorithm: Iteratively solve for $x$ (field) and $z$ (structure)
    \begin{align*} 
    \minimize_z & \|A(z)x - b\|^2 + \eta_0\|z - z_0\|^2 \\
    \minimize_x & \|A(z)x - b\|^2 + \eta_1\|x - x_0\|^2 
    \end{align*}
\I  Takes advantage of the \emph{bi-linearity} of the physics residual
    \BI Jointly solving for $x$ and $z$ is a non-convex problem \EI
\nextpage

\I  More concisely, we iteratively solve the following
    \BE \minimize_\text{alternately $x$ then $z$} 
        \|A(z)x - b\|^2 + \eta_0\|z - z_0\|^2 + \eta_1\|x-x_0\|^2 \EE
\I  Design process now consists of \emph{multiple} computational steps
    \BI $\eta_0, \eta_1$ gradually decreased to bring physics residual toward 0 \EI
\nextpage

\smallfig{1d_alternate}
\I  Iterative strategy produces $z$ (structure) that 
    \BI is better behaved
    \I  more accurately produces $x$ \EI
\nextpage

\oursection{Iterative design with hard constraints on $z$}
\I  We can also put hard limits on $z$ (structure)
    \begin{align*} 
    \minimize & \|A(z)x - b\|^2 + \eta_1\|x - x_0\|^2\\
    \subto & z_\text{min} \le z \le z_\text{max}
    \end{align*}
\I  $z_\text{min} \le z \le z_\text{max}$ constraint 
    better represents manufacturability constraint
    \BI Corresponds to a minimum and maximum allowable permittivity ($\epsilon$) \EI
\nextpage

\smallfig{1d_hardlimit}
\I  Final  
\nextpage

\I  higher dimensions
\myfig{2d_circ}{5}
\myfig{25d_circ}{5}
\nextpage

\oursection{Objective-first design of nanophotonic devices}
\I  Next step in our thinking is that for most devices only some parts of the field matter
\I  waveguiding devices
\medfig{ob1_wg}

\oursection{Design of 3D nanophotonic devices}





\EI
\end{document}
